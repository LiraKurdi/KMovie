<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K Movie - Film Platformu</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Swiper.js -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <!-- Google Fonts: Roboto -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Google Material Symbols -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

    <style>
        :root {
            --background-color: #f8f9fa;
            --text-primary: #202124;
            --text-secondary: #5f6368;
            --surface-color: #ffffff;
            --accent-color: #1a73e8;
            --accent-bg-color: #e8f0fe;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--background-color);
            color: var(--text-primary);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .swiper-button-next, .swiper-button-prev {
            color: var(--text-primary);
            background-color: rgba(255, 255, 255, 0.9);
            border: 1px solid #dadce0;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            transition: background-color 0.3s, box-shadow 0.3s;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: #f1f3f4;
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        }
        .swiper-button-next::after, .swiper-button-prev::after {
            font-size: 18px;
            font-weight: 700;
        }
        .swiper-button-disabled {
            opacity: 0.4;
            pointer-events: none;
        }
        
        #language-switcher button.active {
            background-color: var(--accent-bg-color);
            color: var(--accent-color);
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-6">

        <header class="flex flex-col md:flex-row justify-between items-center mb-8 md:mb-12 gap-5">
            <h1 class="text-3xl font-bold tracking-tighter">
                K <span style="color: #4285F4;">M</span><span style="color: #DB4437;">o</span><span style="color: #F4B400;">v</span><span style="color: #0F9D58;">i</span>e
            </h1>
            
            <div class="relative w-full md:w-96 order-3 md:order-2">
                <span class="material-symbols-outlined w-5 h-5 text-gray-500 absolute top-1/2 left-4 transform -translate-y-1/2 pointer-events-none">search</span>
                <input type="text" id="searchInput" class="w-full bg-[#f1f3f4] border border-transparent text-gray-800 rounded-full py-2.5 pl-12 pr-4 focus:outline-none focus:ring-2 focus:ring-[var(--accent-color)] focus:bg-white" data-lang-placeholder="search_placeholder">
            </div>

            <nav id="language-switcher" class="flex items-center bg-gray-200 rounded-full p-1 order-2 md:order-3">
                <button data-lang-btn="ku" class="px-4 py-1.5 text-sm font-medium text-gray-700 rounded-full transition-colors">Kurdî</button>
                <button data-lang-btn="tr" class="px-4 py-1.5 text-sm font-medium text-gray-700 rounded-full transition-colors">Türkçe</button>
                <button data-lang-btn="en" class="px-4 py-1.5 text-sm font-medium text-gray-700 rounded-full transition-colors">English</button>
            </nav>
        </header>

        <main id="app-content"></main>

        <footer class="text-center mt-16 pt-8 border-t border-gray-200">
            <p class="text-gray-500 text-sm">Powered by <a href="#" class="font-medium text-gray-700 hover:text-black">@LiraKurdi</a></p>
        </footer>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        
        // --- UYGULAMA DURUMU (STATE) VE VERİLERİ ---
        const state = {
            lang: localStorage.getItem('language') || 'tr',
            searchTerm: '',
            movies: {
                kurdish: [
                    { 
                        id: 'zer', titles: { ku: 'Zer', tr: 'Zer', en: 'Zer' }, 
                        link: 'https://t.me/KMovie_Archive/9',
                        descriptions: { ku: 'Jan, li New Yorkê mezin bûye, vedigere welatê xwe ji bo lêgerîna strana ku dapîra wî jê re digot.', tr: 'New York\'ta büyüyen Jan, anneannesinin ölüm döşeğinde fısıldadığı şarkının peşine düşerek memleketine geri döner.', en: 'Jan, who grew up in New York, returns to his homeland to find the song his grandmother whispered to him.' },
                        genres: { ku: 'Drama', tr: 'Dram', en: 'Drama' }
                    },
                    { 
                        id: 'kobane', titles: { ku: 'Kobanê', tr: 'Kobane', en: 'Kobane' }, 
                        link: 'https://t.me/c/2587343787/3',
                        descriptions: { ku: 'Çîroka berxwedana Kobanê ya li dijî DAIŞê bi çavê şervanekî jin.', tr: 'IŞİD\'e karşı verilen Kobani direnişinin bir kadın savaşçının gözünden hikayesi.', en: 'The story of the Kobani resistance against ISIS through the eyes of a female fighter.' },
                        genres: { ku: 'Şer, Drama', tr: 'Savaş, Dram', en: 'War, Drama' }
                    },
                    { 
                        id: 'turtles', titles: { ku: 'Kûsî Jî Dikarin Bifirin', tr: 'Kaplumbağalar da Uçar', en: 'Turtles Can Fly' }, 
                        link: 'https://t.me/c/2587343787/4',
                        descriptions: { ku: 'Li sînorê Tirkîye-Iraqê, zarokên kurd ji bo jiyanê mayînan berhev dikin.', tr: 'Türkiye-Irak sınırındaki bir mülteci kampında, mayın toplayarak hayata tutunmaya çalışan çocukların hikayesi.', en: 'The story of children trying to survive by collecting mines in a refugee camp on the Turkey-Iraq border.' },
                        genres: { ku: 'Şer, Drama', tr: 'Savaş, Dram', en: 'War, Drama' }
                    },
                    { 
                        id: 'bekas', titles: { ku: 'Bekas', tr: 'Neredesin Superman', en: 'Bekas' }, 
                        link: 'https://t.me/c/2587343787/5',
                        descriptions: { ku: 'Du birayên sêwî, Dana û Zana, dixwazin biçin Amerîkayê û bi Superman re bijîn.', tr: 'İki kimsesiz kardeş olan Dana ve Zana, Amerika\'ya gidip Superman ile yaşama hayali kurar.', en: 'Two orphaned brothers, Dana and Zana, dream of going to America to live with Superman.' },
                        genres: { ku: 'Macera, Komedî', tr: 'Macera, Komedi', en: 'Adventure, Comedy' }
                    },
                    { 
                        id: 'postal', titles: { ku: 'Postala Xwînî', tr: 'Kanlı Postal', en: 'Bloody Post' }, 
                        link: 'https://t.me/c/2587343787/6',
                        descriptions: { ku: 'Di dema şerê navxweyî yê Kurdistanê de, zarokek nameyek ji bo rêberê siyasî yê dijber dibe.', tr: 'Kürdistan\'daki iç savaş sırasında, bir çocuk muhalif siyasi lider için bir mektup taşır.', en: 'During the Kurdish civil war, a child carries a letter to the opposing political leader.' },
                        genres: { ku: 'Drama, Şer', tr: 'Dram, Savaş', en: 'Drama, War' }
                    },
                    { 
                        id: 'july14', titles: { ku: '14ê Tîrmehê', tr: '14 Temmuz', en: '14th of July' }, 
                        link: 'https://t.me/c/2587343787/7',
                        descriptions: { ku: 'Derbarê çalakiya greva birçîbûnê ya girtiyên kurd di zindana Amedê ya di sala 1982an de.', tr: '1982 yılında Diyarbakır Cezaevi\'ndeki Kürt tutukluların açlık grevi eylemi hakkında.', en: 'About the hunger strike action of Kurdish prisoners in Diyarbakır Prison in 1982.' },
                        genres: { ku: 'Belgesel, Dîrok', tr: 'Belgesel, Tarih', en: 'Documentary, History' }
                    },
                ],
                harry_potter: [
                    { 
                        id: 'hp1', titles: { ku: 'Harry Potter û Kevirê Felsefeyê', tr: 'Harry Potter ve Felsefe Taşı', en: 'Harry Potter and the Sorcerer\'s Stone' }, 
                        link: '#',
                        descriptions: { ku: 'Sêrbazekî ciwan kifş dike ku ew ji bo dibistanek sêrbaziyê ya navdar hatiye vexwendin.', tr: 'Genç bir büyücü, ünlü bir sihirbazlık okuluna davet edildiğini keşfeder.', en: 'A young wizard discovers he has been invited to a famous school of magic.' },
                        genres: { ku: 'Fantazî', tr: 'Fantastik', en: 'Fantasy' }
                    },
                ]
            },
            translations: {
                ku: { page_title: "K Movie - Platforma Fîlman", search_placeholder: "Li fîlman bigere...", kurdish_thema_movies: "Fîlmên Temaya Kurdî", harry_potter_series: "Rêzefîlma Harry Potter", coming_soon: "PÊŞ DE", no_results_title: "Fîlmek nehat dîtin.", no_results_desc: "Ji kerema xwe peyveke din biceribînin." },
                tr: { page_title: "K Movie - Film Platformu", search_placeholder: "Film, dizi ve daha fazlasını arayın", kurdish_thema_movies: "Kürtçe Temalı Filmler", harry_potter_series: "Harry Potter Serisi", coming_soon: "YAKINDA", no_results_title: "Aramanızla eşleşen sonuç bulunamadı.", no_results_desc: "Lütfen farklı bir anahtar kelimeyle tekrar deneyin." },
                en: { page_title: "K Movie - Movie Platform", search_placeholder: "Search for movies, series & more", kurdish_thema_movies: "Kurdish Themed Movies", harry_potter_series: "Harry Potter Series", coming_soon: "COMING SOON", no_results_title: "No results found for your search.", no_results_desc: "Please try again with a different keyword." }
            },
            categoryMap: {
                kurdish: 'kurdish_thema_movies',
                harry_potter: 'harry_potter_series'
            }
        };

        const swiperInstances = [];

        // --- HTML OLUŞTURMA FONKSİYONLARI (BİLEŞENLER) ---

        function createMovieCard(movie) {
            const { lang } = state;
            const isAvailable = movie.link !== '#';
            const title = movie.titles[lang] || movie.titles.en;
            const description = movie.descriptions[lang] || movie.descriptions.en;
            const genre = movie.genres[lang] || movie.genres.en;

            return `
                <div class="swiper-slide h-auto">
                    <a href="${isAvailable ? movie.link : '#'}" ${isAvailable ? 'target="_blank"' : ''} class="movie-card flex flex-col h-full bg-white rounded-lg border border-gray-200/80 p-4 transition-all duration-300 hover:shadow-md hover:border-gray-300 relative ${!isAvailable ? 'pointer-events-none' : ''}">
                        <div class="flex-grow">
                            <span class="text-xs font-medium text-[var(--accent-color)] bg-[var(--accent-bg-color)] px-2 py-0.5 rounded-full self-start mb-2 inline-block">${genre}</span>
                            <h3 class="text-base font-bold text-gray-800 truncate mb-1">${title}</h3>
                            <p class="text-sm text-gray-600 line-clamp-3">${description}</p>
                        </div>
                        ${!isAvailable ? `<div class="absolute top-0 left-0 w-full h-full rounded-lg flex items-center justify-center bg-white/75 backdrop-blur-sm text-sm font-semibold text-gray-800">${state.translations[lang].coming_soon}</div>` : ''}
                    </a>
                </div>
            `;
        }

        function createCategorySection(categoryKey, movies) {
            const { lang } = state;
            const categoryTitle = state.translations[lang][state.categoryMap[categoryKey]];
            const movieCardsHTML = movies.map(createMovieCard).join('');

            return `
                <section class="movie-category mb-10">
                    <h2 class="text-xl md:text-2xl font-bold text-gray-800 mb-4">${categoryTitle}</h2>
                    <div class="swiper">
                        <div class="swiper-wrapper">${movieCardsHTML}</div>
                        <div class="swiper-button-next"></div>
                        <div class="swiper-button-prev"></div>
                    </div>
                </section>
            `;
        }

        function createNoResultsView() {
            const { lang } = state;
            return `
                <div class="text-center py-16">
                    <h3 class="text-xl font-semibold text-gray-700">${state.translations[lang].no_results_title}</h3>
                    <p class="text-gray-500 mt-2">${state.translations[lang].no_results_desc}</p>
                </div>
            `;
        }
        
        // --- ANA RENDER FONKSİYONU ---
        function render() {
            const { lang, searchTerm, movies } = state;
            const appContent = document.getElementById('app-content');
            
            swiperInstances.forEach(swiper => swiper.destroy(true, true));
            swiperInstances.length = 0;

            const lowerCaseSearchTerm = searchTerm.toLowerCase().trim();
            let totalMatches = 0;
            let finalHTML = '';

            for (const categoryKey in movies) {
                const filteredMovies = movies[categoryKey].filter(movie => {
                    const title = (movie.titles[lang] || movie.titles.en).toLowerCase();
                    const description = (movie.descriptions[lang] || movie.descriptions.en).toLowerCase();
                    const genre = (movie.genres[lang] || movie.genres.en).toLowerCase();
                    return title.includes(lowerCaseSearchTerm) || description.includes(lowerCaseSearchTerm) || genre.includes(lowerCaseSearchTerm);
                });

                if (filteredMovies.length > 0) {
                    finalHTML += createCategorySection(categoryKey, filteredMovies);
                    totalMatches++;
                }
            }
            
            appContent.innerHTML = (totalMatches === 0 && lowerCaseSearchTerm) ? createNoResultsView() : finalHTML;
            
            updateStaticUI();
            
            document.querySelectorAll('#app-content .swiper').forEach(el => {
                swiperInstances.push(new Swiper(el, {
                    slidesPerView: 'auto',
                    spaceBetween: 16,
                    navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },
                     breakpoints: {
                        640: { slidesPerView: 2, spaceBetween: 20 },
                        768: { slidesPerView: 3, spaceBetween: 20 },
                        1024: { slidesPerView: 4, spaceBetween: 24 }
                    }
                }));
            });
        }
        
        // --- UI GÜNCELLEME VE OLAY DİNLEYİCİLERİ ---
        function updateStaticUI() {
            const { lang } = state;
            document.documentElement.lang = lang;
            document.title = state.translations[lang].page_title;
            document.querySelector('#searchInput').placeholder = state.translations[lang].search_placeholder;
            
            document.querySelectorAll('#language-switcher button').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.langBtn === lang);
            });
        }

        function setupEventListeners() {
            document.getElementById('language-switcher').addEventListener('click', (e) => {
                const newLang = e.target.closest('button')?.dataset.langBtn;
                if (newLang && newLang !== state.lang) {
                    state.lang = newLang;
                    localStorage.setItem('language', newLang);
                    render();
                }
            });

            document.getElementById('searchInput').addEventListener('input', (e) => {
                state.searchTerm = e.target.value;
                render();
            });
        }
        
        // --- UYGULAMAYI BAŞLAT ---
        setupEventListeners();
        render(); // İlk render
    });
    </script>
</body>
</html>
